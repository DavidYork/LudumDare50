{"inkVersion":20,"root":[["\n",{"->":"Commands"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"Commands":[["ev","str","^has_seen_epic_cold","/str",{"x()":"GetEvent","exArgs":1},{"x()":"GetTodayIsSafe"},"||","/ev",{"->":".^.b","c":true},{"b":["\n","^You are inside the emergency Hab.","\n",{"->":".^.^.^.3"},null]}],["ev","str","^can_heat_hab","/str",{"x()":"GetEvent","exArgs":1},"/ev",{"->":".^.b","c":true},{"b":["\n","^The temperature today is going to drop to extreme levels. The heater is going to pull power from your batteries to keep it warm.","\n","ev","str","^has_seen_epic_cold","/str",true,{"x()":"SetEvent","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":["\n","^The temperature today is going to drop to extreme levels. You must upgrade the heater or you will freeze to death!","\n","ev","str","^has_seen_epic_cold","/str",true,{"x()":"SetEvent","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.3"},null]}],"nop","\n",{"->":".^.command_loop"},"done",{"command_loop":[["ev","str","^<cmd>Read ship logs</cmd> - Maybe there is some useful information here.","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^<cmd>Crystal study results</cmd> - Read the computer analysis of the crystal.","/str","str","^is_crystal_expert","/str",{"x()":"GetEvent","exArgs":1},"/ev",{"*":".^.c-1","flg":21},"ev","str","^<cmd>Study the crystal</cmd> - Learn what you can about this mysterious crystal.","/str","str","^has_seen_crystal","/str",{"x()":"GetEvent","exArgs":1},"/ev",{"*":".^.c-2","flg":21},"ev","str","^<cmd>Summon rover</cmd> - Send message to rover to return to the Hab via autopilot.","/str","str","^knows_about_rover","/str",{"x()":"GetEvent","exArgs":1},"/ev",{"*":".^.c-3","flg":21},"ev","str","^<cmd>Go outside</cmd> - Explore with the rover.","/str","str","^has_rover","/str",{"x()":"GetEvent","exArgs":1},"/ev",{"*":".^.c-4","flg":5},"ev","str","^<cmd>Work on the Hab</cmd> - The Hab could use an upgrade.","/str","/ev",{"*":".^.c-5","flg":4},"ev","str","^<cmd>Work on the Rover</cmd> - The rover could use an upgrade.","/str","str","^can_heat_hab","/str",{"x()":"GetEvent","exArgs":1},"/ev",{"*":".^.c-6","flg":5},"ev","str","^<cmd>Take a break</cmd> - I'll take an hour off to relax.","/str","/ev",{"*":".^.c-7","flg":4},"ev","str","^<cmd>Go to bed</cmd> - I've done enough today.","/str","/ev",{"*":".^.c-8","flg":4},{"c-0":["\n","^You turn on the computer and load up the last automated log entry from your ship.","\n","^<br/>","\n","^Unknown ship failure. Category: <color=red>catastrophic</color>. Emergency landers deployed, two successful landings.","\n","^<b>Landing one:</b> cargo, including rover and miscellaneous supplies.","\n","^<b>Landing two:</b> emergency habitat, one crew member.","\n","ev","str","^knows_about_rover","/str",true,{"x()":"SetEvent","exArgs":2},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","^The crystal posesses strange conductivity powers. When an electrical current runs through it it's almost a superconducter, but without a current it's a fantastic insulator.","\n","^<br/>","\n","^You should build a crystal extractor for your rover.","\n","ev","str","^crystal_is_unlocked","/str",true,{"x()":"SetEvent","exArgs":2},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\n","^You set the computer to analyze the crystal. When you're done the computer will give you a complete analysis.","\n","ev","str","^study_crystal","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["\n","ev","str","^has_rover","/str",true,{"x()":"SetEvent","exArgs":2},"pop","/ev","\n","^You open the computer console and scan for the rover. Sure enough, it's on the planet, very nearby, and reports no damage!","\n","^<br/>","\n","^Finally some good news.","\n","^<br/>","\n","^You tell the rover to drive to Hab and within minutes it's parked out front.","\n",{"->":".^.^.g-0"},{"#f":5}],"c-4":["\n","^You head outside.","\n","ev",{"x()":"DoGoOutside"},"pop","/ev","\n","ev",1,{"x()":"AdvanceTime","exArgs":1},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-5":["\n",{"->":"Build_Stuff"},{"->":".^.^.g-0"},{"#f":5}],"c-6":["\n",{"->":"Build_Rover_Stuff"},{"->":".^.^.g-0"},{"#f":5}],"c-7":["\n","ev",1,{"x()":"AdvanceTime","exArgs":1},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-8":["\n","ev",{"x()":"DoGoToBed"},"pop","/ev","\n","^You go to sleep.","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->t->":".^.^.^"},"done",{"#f":5}]}],{"#f":1}],"#f":1}],"Sleep":[["^You're getting very tired.","\n","ev","str","^<cmd>Go to bed</cmd>  - Time to sleep.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev",{"x()":"DoGoToBed"},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"Commands.command_loop"},"done",{"#f":5}]}],{"#f":1}],"Gameover":[["ev",{"x()":"GetDeathText"},"out","/ev","\n","ev","str","^<cmd>Play again</cmd> - Next time I'll live longer.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev",{"x()":"DoRestartGame"},"pop","/ev","\n","done",{"#f":5}]}],{"#f":1}],"Build_Stuff":["^Improving the Hab requires scrap, and sometimes other materials.","\n","ev",{"x()":"HasBuildProject"},"/ev",[{"->":".^.b","c":true},{"b":["\n",{"->t->":".^.^.^.continue_build_project"},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.build_stuff_loop"},{"->":".^.^.^.7"},null]}],"nop","\n","done",{"build_stuff_loop":[["ev","str","^<cmd>Improve heater (","ev","str","^first_heater_upgrade","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^) </cmd> - Add a battery interface to the heater so it can draw power from the spare batteries when it gets really cold.","/str","str","^can_heat_hab","/str",{"x()":"GetEvent","exArgs":1},"!","/ev",{"*":".^.c-0","flg":5},"ev","str","^<cmd>High efficiency heater (","ev","str","^efficient_heater","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - The heater works but can be made a lot better.","/str","str","^has_efficient_heater","/str",{"x()":"GetEvent","exArgs":1},"!","str","^can_heat_hab","/str",{"x()":"GetEvent","exArgs":1},"&&","/ev",{"*":".^.c-1","flg":5},"ev","str","^<cmd>Crystal insulation (","ev","str","^crystal_insulation","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - This will decrease the amount of cold you'll have to combat.","/str","str","^has_insulation","/str",{"x()":"GetEvent","exArgs":1},"!","str","^crystal_is_unlocked","/str",{"x()":"GetEvent","exArgs":1},"&&","/ev",{"*":".^.c-2","flg":5},"ev","str","^<cmd>Crystal insulation <i>everywhere</i> (","ev","str","^epic_crystal_insulation","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - This will decrease the amount of cold you'll have to combat.","/str","str","^has_epic_insulation","/str",{"x()":"GetEvent","exArgs":1},"!","str","^has_insulation","/str",{"x()":"GetEvent","exArgs":1},"&&","/ev",{"*":".^.c-3","flg":5},"ev","str","^<cmd>Done</cmd> - I'm finished working on the Hab now.","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["\n","ev","str","^first_heater_upgrade","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^first_heater_upgrade","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^The current heater and insulation is good enough for some weather, but this planet gets <i>really</i> cold.","\n","^<br/>","\n","^Having the batteries attached to the heater will enable the heaters to draw power if the temperature falls below a certain point.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":"Build_Stuff.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","ev","str","^efficient_heater","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^efficient_heater","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^This will produce twice as much heat per unit of battery power.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":"Build_Stuff.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\n","ev","str","^crystal_insulation","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^crystal_insulation","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^This insulation means less heat will escape the Hab, so you'll live a bit longer.","\n","^<br/>","\n","^Probably.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":"Build_Stuff.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["\n","ev","str","^epic_crystal_insulation","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^epic_crystal_insulation","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^The insulation worked really well so let's build some more.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":"Build_Stuff.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-4":["^ ",{"->":"Commands.command_loop"},"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->t->":".^.^.^"},"done",{"#f":5}]}],{"#f":1}],"fail_build":[["^You don't have enough resources.","\n",["ev","void","/ev","->->",{"#f":5,"#n":"g-0"}],null],{"#f":1}],"continue_build_project":[["ev",{"x()":"GetBuildProjectText"},"out","/ev","\n","ev","str","^<cmd>Resume work</cmd> - This will be useful when complete.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^<cmd>Done</cmd> - I'm finished working on the Hab now.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"x()":"GetToWork"},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ ",{"->":"Commands.command_loop"},"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev","void","/ev","->->",{"#f":5}]}],{"#f":1}],"#f":1}],"Build_Rover_Stuff":["^Improving the Hab requires scrap, and sometimes other materials.","\n","ev",{"x()":"HasBuildProject"},"/ev",[{"->":".^.b","c":true},{"b":["\n",{"->t->":".^.^.^.continue_build_project"},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.build_stuff_loop"},{"->":".^.^.^.7"},null]}],"nop","\n","done",{"build_stuff_loop":[["ev","str","^<cmd>Rough terrain wheels (","ev","str","^rover_rough_terrain_upgrade","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - Toughen up the wheels to enable the rover to drive over rough terrain.","/str","str","^rover_upgrade_rough_terrain","/str",{"x()":"GetEvent","exArgs":1},"!","/ev",{"*":".^.c-0","flg":5},"ev","str","^<cmd>Silt terrain upgrade (","ev","str","^rover_silt_terrain_upgrade","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - Improved traction and <i>anti-sinking technology</i>.","/str","str","^rover_upgrade_silt_terrain","/str",{"x()":"GetEvent","exArgs":1},"!","/ev",{"*":".^.c-1","flg":5},"ev","str","^<cmd>A faster engine (","ev","str","^faster_engine_1","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - This will improve the rover's daily range.","/str","str","^faster_engine_1","/str",{"x()":"GetEvent","exArgs":1},"!","/ev",{"*":".^.c-2","flg":5},"ev","str","^<cmd>An even faster engine (","ev","str","^faster_engine_2","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - This will improve the rover's daily range.","/str","str","^faster_engine_2","/str",{"x()":"GetEvent","exArgs":1},"!","str","^faster_engine_1","/str",{"x()":"GetEvent","exArgs":1},"&&","/ev",{"*":".^.c-3","flg":5},"ev","str","^<cmd>The <i>fastest</i> engine (","ev","str","^faster_engine_3","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - This will improve the rover's daily range.","/str","str","^faster_engine_3","/str",{"x()":"GetEvent","exArgs":1},"!","str","^faster_engine_2","/str",{"x()":"GetEvent","exArgs":1},"&&","/ev",{"*":".^.c-4","flg":5},"ev","str","^<cmd>Crystal extractor (","ev","str","^crystal_extractor","/str",{"x()":"GetCost","exArgs":1},"out","/ev","^)</cmd> - With this you can bring the crystal back to base and build fun stuff with it.","/str","str","^has_crystal_extractor","/str",{"x()":"GetEvent","exArgs":1},"!","str","^crystal_is_unlocked","/str",{"x()":"GetEvent","exArgs":1},"&&","/ev",{"*":".^.c-5","flg":5},"ev","str","^<cmd>Done</cmd> - I'm finished working on the rover now.","/str","/ev",{"*":".^.c-6","flg":4},{"c-0":["\n","ev","str","^rover_rough_terrain_upgrade","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^rover_rough_terrain_upgrade","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^The rover's wheels are lacking a lifted suspension and a whole lot of metal armor, that's what they need!","\n","^<br/>","\n","^Soon I'll be driving over rough terrain.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.^.^.^.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","ev","str","^rover_silt_terrain_upgrade","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^rover_silt_terrain_upgrade","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^The rover cannot travel over some extremely fine ground. It needs better traction and <i>anti-sinking technology</i>.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.^.^.^.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\n","ev","str","^faster_engine_1","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^faster_engine_1","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^It's dangerous to fall asleep outside the Hab, so clearly the solution is to <i>drive faster</i> so I can see more!","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.^.^.^.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["\n","ev","str","^faster_engine_2","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^faster_engine_2","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^The rover is a lot of fun now, but it could be more fun!","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.^.^.^.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-4":["\n","ev","str","^faster_engine_3","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^faster_engine_3","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^Let's see just how fast this guy can go!","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.^.^.^.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-5":["\n","ev","str","^crystal_extractor","/str",{"x()":"CanPurchase","exArgs":1},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^crystal_extractor","/str",{"x()":"DoPurchase","exArgs":1},"pop","/ev","\n","^The rover cannot travel over some extremely fine ground. It needs better traction and <i>anti-sinking technology</i>.","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.^.^.^.fail_build"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-6":["^ ",{"->":"Commands.command_loop"},"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->t->":".^.^.^"},"done",{"#f":5}]}],{"#f":1}],"fail_build":[["^You don't have enough resources.","\n",["ev","void","/ev","->->",{"#f":5,"#n":"g-0"}],null],{"#f":1}],"continue_build_project":[["ev",{"x()":"GetBuildProjectText"},"out","/ev","\n","ev","str","^<cmd>Resume work</cmd> - This will be useful when complete.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^<cmd>Done</cmd> - I'm finished working on the rover now.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"x()":"GetToWork"},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ ",{"->":"Commands.command_loop"},"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev","void","/ev","->->",{"#f":5}]}],{"#f":1}],"#f":1}],"#f":1}],"listDefs":{}}